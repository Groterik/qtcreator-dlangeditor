[![Build Status](https://travis-ci.org/Groterik/qtcreator-dlangeditor.svg?branch=master)](https://travis-ci.org/Groterik/qtcreator-dlangeditor)
[![Build status](https://ci.appveyor.com/api/projects/status/dqcw582k9g9rqdc1?svg=true)](https://ci.appveyor.com/project/Groterik/qtcreator-dlangeditor)
[![Bintray](https://img.shields.io/bintray/v/groterik/qtcreator-dlang-tools/qtcreator-dlangeditor.svg)](https://dl.bintray.com/groterik/qtcreator-dlang-tools/)

#About
The Qt Creator plugin for basic support of [D programming language](http://dlang.org/).

The plugin provides some features for comfortable code editing and programming using D language such as code completion, indention, syntax highlighting, etc.

**Any help with development, testing and debugging will be highly appreciated.**

#Features
* Indention
* Syntax highlighting (via QtCreator's Generic Highlighter)
* Code completion (via DCD or Dasted)
* Calltips (via DCD or Dasted)
* Follow symbol (via DCD or Dasted)
* Documentation hints (via DCD)
* Outline (via Dasted)
* Symbol locator (via Dasted)
* Context help (via .qch file with ID prepender "D/", can be generated by [dlang-qch](https://github.com/Groterik/dlang-qch), for example like [Phobos reference](https://github.com/Groterik/dlang-qch/releases/download/0.1/dlang_phobos.qch))

#TODO
* Class view for project/current document
* Tooltip with symbol information
* Highlight selected symbol in current document

#Installation
Download precompiled version from Bintray: [project page](https://bintray.com/groterik/qtcreator-dlang-tools/qtcreator-dlangeditor) or [downloads directory](https://dl.bintray.com/groterik/qtcreator-dlang-tools).  
If you want to build the plugin from the sources, please see [Building](#Building) section below.

Note: since [Travis-CI](https://travis-ci.org) is used to build binaries for linux and [Appveyor](https://www.appveyor.com)  -- for windows, build numbers for same revision but different platforms can differ.


Copy the plugin shared library and pluginspec file into local Qt Creator plugin directory:
* $HOME/.local/share/data/QtProject/qtcreator/plugins/$QTCREATOR_VERSION/ on Linux.
* %LOCALAPPDATA%\QtProject\qtcreator\plugins\$QTCREATOR_VERSION\ for windows.
* ~/Library/Application Support/QtProject/Qt Creator/plugins/$QTCREATOR_VERSION/ on Mac.

You can also set the plugin directory for Qt Creator using command line argument ```-pluginpath <dir>```.

Run Qt Creator and enable the plugin on ```Help -> About Plugins``` page. Restart Qt Creator.


#Building
1. clone the project.
1. ```git submodule update --init```
1. run ```qmake && make``` or open dlangeditor.pro in the Qt Creator and build the project from IDE. Most likely (if you are not using Archlinux) you should set QTC_SOURCE and/or QTC_BUILD variables for qmake for QtCreator's sources and libraries correspondingly. It can be done with the following syntax: ```qmake "QTC_SOURCE=$MY_QTCREATOR_SOURCE_PATH" "QTC_BUILD=$MY_QTCREATOR_LIB_PATH"```
1. if successful, the plugin shared library will appear in local plugin directory:
	* $HOME/.local/share/data/QtProject/qtcreator/plugins/$QTCREATOR_VERSION/ on Linux
	* %LOCALAPPDATA%\QtProject\qtcreator\plugins\$QTCREATOR_VERSION\
	* ~/Library/Application Support/QtProject/Qt Creator/plugins/$QTCREATOR_VERSION/ on Mac
1. on Mac OS X: run ```fix_mac.sh $PATH_TO_PLUGIN/libDlangEditor.dylib``` to fix rpath constants (a mess with system Qt libraries and QtCreator's internal Qt libraries).

#Build requirements
1. Qt >= 5.5.0
1. Qt Creator >= 3.6.0 (QtC's sources and binaries can be found at the official [download page](https://download.qt.io/))

#Usage requirements
* [Dasted](https://github.com/Groterik/dasted) binary.  
 OR
* [DCD](https://github.com/Hackerpilot/DCD) binaries (server).

#Implementation notes
Code completion (code model) is supported via DCD (D Completion Daemon by Brian Schott) or Dasted (~fork of DCD that is developing specially for this plugin). Dasted is a recommended code model to use.
